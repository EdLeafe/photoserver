function autocomplete(e,t){var n;function i(e){if(!e)return!1;!function(e){var t;for(t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("autocomplete-active")}function a(t){var n,i=document.getElementsByClassName("autocomplete-items");for(n=0;n<i.length;n++)t!=i[n]&&t!=e&&i[n].parentNode.removeChild(i[n])}e.addEventListener("input",function(i){var s,l,o=this.value,u=this.value.split(" ").slice(-1)[0];if(a(),!u)return!1;for(n=-1,(s=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),s.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(s),o=0;o<t.length;o++){var c=t[o].toUpperCase();if(c.includes(u.toUpperCase())){l=document.createElement("DIV");var r=c.indexOf(u.toUpperCase()),d=u.length;l.innerHTML=t[o].substring(0,r)+"<span class='matchtext'>"+t[o].substring(r,r+d)+"</span>"+t[o].substring(r+d,t[o].length),l.innerHTML+="<input type='hidden' value='"+t[o]+"'>",l.addEventListener("click",function(t){e.value=e.value.replace(u,this.getElementsByTagName("input")[0].value),a()}),s.appendChild(l)}}}),e.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(n++,i(t)):38==e.keyCode?(n--,i(t)):13===e.keyCode&&(e.preventDefault(),n>-1&&t&&t[n].click())}),document.addEventListener("click",function(e){a(e.target)})}document.maxRules=0;
